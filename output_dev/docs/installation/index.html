<!doctype html>
<html class="no-js" lang="">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />

    <meta name="description" content="Documentation for Devise">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Installation &mdash; Devise Documentation &mdash; </title>

    <link rel="stylesheet" type="text/css" href="/css/normalize.css">
    <link rel="stylesheet" type="text/css" href="/css/magnific-popup.css"/>
    <link rel="stylesheet" type="text/css" href="/css/main.css">

    <script src="/js/vendor/modernizr-2.8.3.min.js"></script>

</head>

<body>
    <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
        <![endif]-->

        <nav>
            <ul>
                <li><a href="/">
                    <img src="/imgs/nav-logo.png" width="49" height="17" alt="Devise Logo">
                </a></li>

                <li>
                    <a class="" href="https://github.com/devisephp">Github</a>
                    <ul>
                        <li><a class="" href="https://github.com/devisephp/cms">CMS (Core Package)</a></li>
                        <li><a class="" href="https://github.com/devisephp/bootstrap">Bootstrap (Boilerplate)</a></li>
                        <li><a class="" href="https://github.com/devisephp/example">Example Project</a></li>
                    </ul>
                </li>

                <li>
                    <a class="" href="/docs">Documentation</a>
                </li>

                <li>
                    <a class="" href="#">Features</a>
                    <ul>
                        <li><a class="" href="/content-management-features">CMS Features</a></li>
                        <li><a class="" href="/advanced-features">Advanced Features</a></li>
                    </ul>
                </li>

                <li>
                    <a class="dvs-active" href="/">Home</a>
                </li>

            </ul>
        </nav>

        <div id="content-wrapper">

            <header><img src="/imgs/documentation-header-bg.jpg" width="100%"></header>

            <section id="top">
                <div>
                    <h1>Installation</h1>
                    <p></p>
                </div>
            </section>

            <section id="sculpin-docs">
                <ul>
                    <li >
                        <a href="/docs">About Devise</a>
                        <ul>
                            <li><a href="/docs#what-is-it">What Is It?</a></li>
                            <li><a href="/docs#couple-of-demos">Couple of Demos</a></li>
                        </ul>
                    </li>
                                        <li>
                        <a href="/docs/about-this-documentation/">About This Documentation</a>
                                                <ul>
                                                        <li><a href="/docs/about-this-documentation/#code-blocks">Code Blocks</a></li>
                                                        <li><a href="/docs/about-this-documentation/#achtung%21">Achtung!</a></li>
                                                        <li><a href="/docs/about-this-documentation/#beer%21">Beer!</a></li>
                                                    </ul>
                                            </li>
                                        <li class="active">
                        <a href="/docs/installation/">Installation</a>
                                                <ul>
                                                        <li class="active" ><a href="/docs/installation/#requirements">Requirements</a></li>
                                                        <li class="active" ><a href="/docs/installation/#installing-through-the-browser">Installing through the browser</a></li>
                                                        <li class="active" ><a href="/docs/installation/#installing-through-command-line">Installing through command line</a></li>
                                                        <li class="active" ><a href="/docs/installation/#environmental-configuration">Environmental Configuration</a></li>
                                                        <li class="active" ><a href="/docs/installation/#mail-and-additional-configuration">Mail and Additional Configuration</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/pages/">Pages</a>
                                                <ul>
                                                        <li><a href="/docs/pages/#pages-and-routing">Pages and Routing</a></li>
                                                        <li><a href="/docs/pages/#creating-new-pages">Creating New Pages</a></li>
                                                        <li><a href="/docs/pages/#managing-pages">Managing Pages</a></li>
                                                        <li><a href="/docs/pages/#understanding-page-versions">Understanding page versions</a></li>
                                                        <li><a href="/docs/pages/#sharing-an-unpublished-page-with-a-non-admin">Sharing An Unpublished Page With A Non-Admin</a></li>
                                                        <li><a href="/docs/pages/#working-with-the-calendar">Working with the Calendar</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/templates/">Templates</a>
                                                <ul>
                                                        <li><a href="/docs/templates/#creating-new-templates">Creating New Templates</a></li>
                                                        <li><a href="/docs/templates/#getting-data-to-templates">Getting Data to Templates</a></li>
                                                        <li><a href="/docs/templates/#getting-data-from-templates">Getting Data from Templates</a></li>
                                                        <li><a href="/docs/templates/#introduction-to-blade-syntax">Introduction to Blade Syntax</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/apis/">Apis</a>
                                                <ul>
                                                        <li><a href="/docs/apis/#creating-new-apis">Creating New Apis</a></li>
                                                        <li><a href="/docs/apis/#managing-apis">Managing Apis</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/fields/">Fields</a>
                                                <ul>
                                                        <li><a href="/docs/fields/#creating-your-first-editable-area">Creating Your First Editable Area</a></li>
                                                        <li><a href="/docs/fields/#simple-field">Simple Field</a></li>
                                                        <li><a href="/docs/fields/#grouping-fields">Grouping Fields</a></li>
                                                        <li><a href="/docs/fields/#collections-of-fields">Collections of Fields</a></li>
                                                        <li><a href="/docs/fields/#editing-models">Editing Models</a></li>
                                                        <li><a href="/docs/fields/#to-model-or-not-to-model">To Model Or Not To Model</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/field-types/">Field Types</a>
                                                <ul>
                                                        <li><a href="/docs/field-types/#audio">Audio</a></li>
                                                        <li><a href="/docs/field-types/#checkbox">Checkbox</a></li>
                                                        <li><a href="/docs/field-types/#checkbox-group">Checkbox Group</a></li>
                                                        <li><a href="/docs/field-types/#color">Color</a></li>
                                                        <li><a href="/docs/field-types/#date%2Ftime">Date/Time</a></li>
                                                        <li><a href="/docs/field-types/#file">File</a></li>
                                                        <li><a href="/docs/field-types/#hidden">Hidden</a></li>
                                                        <li><a href="/docs/field-types/#html">HTML</a></li>
                                                        <li><a href="/docs/field-types/#images">Images</a></li>
                                                        <li><a href="/docs/field-types/#link">Link</a></li>
                                                        <li><a href="/docs/field-types/#map">Map</a></li>
                                                        <li><a href="/docs/field-types/#select">Select</a></li>
                                                        <li><a href="/docs/field-types/#text">Text</a></li>
                                                        <li><a href="/docs/field-types/#textarea">Textarea</a></li>
                                                        <li><a href="/docs/field-types/#video">Video</a></li>
                                                        <li><a href="/docs/field-types/#wysiwyg">WYSIWYG</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/permissions/">Permissions</a>
                                                <ul>
                                                        <li><a href="/docs/permissions/#preloaded-permission-rules">Preloaded Permission Rules</a></li>
                                                        <li><a href="/docs/permissions/#implementing-in-templates">Implementing In Templates</a></li>
                                                        <li><a href="/docs/permissions/#implementing-on-pages">Implementing On Pages</a></li>
                                                        <li><a href="/docs/permissions/#implementing-in-routes">Implementing In Routes</a></li>
                                                        <li><a href="/docs/permissions/#creating-new-permission-rules">Creating New Permission Rules</a></li>
                                                        <li><a href="/docs/permissions/#creating-new-permission-conditions">Creating New Permission Conditions</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/menus/">Menus</a>
                                                <ul>
                                                        <li><a href="/docs/menus/#managing-menus">Managing Menus</a></li>
                                                        <li><a href="/docs/menus/#implementing-menus">Implementing Menus</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/users-groups/">Users &amp; Groups</a>
                                                <ul>
                                                        <li><a href="/docs/users-groups/#building-a-philosophy-for-your-app">Building A Philosophy For Your App</a></li>
                                                        <li><a href="/docs/users-groups/#enabling-user-registration">Enabling User Registration</a></li>
                                                        <li><a href="/docs/users-groups/#password-recovery">Password Recovery</a></li>
                                                        <li><a href="/docs/users-groups/#managing-users">Managing Users</a></li>
                                                        <li><a href="/docs/users-groups/#managing-groups">Managing Groups</a></li>
                                                    </ul>
                                            </li>
                                        <li>
                        <a href="/docs/localization/">Localization</a>
                                                <ul>
                                                        <li><a href="/docs/localization/#enabling-a-new-language">Enabling A New Language</a></li>
                                                        <li><a href="/docs/localization/#static-vs-dynamic">Static vs Dynamic</a></li>
                                                    </ul>
                                            </li>
                                    </ul>

                <div>
                    <div>
                        <h2 id="%3Ca-name%3D%22requirements%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23requirements%29requirements"><a name="requirements" class="ia"></a><a href="#requirements">#</a>Requirements</h2>

<p>As with Laravel we need the following extensions installed:</p>

<ul>
<li>PHP >= 5.4</li>
<li>Mcrypt PHP Extension</li>
<li>OpenSSL PHP Extension</li>
<li>Mbstring PHP Extension</li>
<li>Tokenizer PHP Extension</li>
</ul>

<p>We also require:</p>

<ul>
<li>Laravel supported relational database. (MySQL, Postgres, SQLite, or SQL Server)</li>
<li>ImageMagick</li>
</ul>

<p>To install ImageMagick on Ubuntu / Homestead the use the following commands:</p>

<pre><code>sudo apt-get install imagemagick
sudo apt-get install php5-imagick
</code></pre>

<h2 id="%3Ca-name%3D%22installing-through-the-browser%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23installing-through-the-browser%29installing-through-the-browser"><a name="installing-through-the-browser" class="ia"></a><a href="#installing-through-the-browser">#</a>Installing through the browser</h2>

<p>Installing Devise via browser is simple and painless. After grabbing the latest version of Devise and then properly adding it's resources to your project, simply open a browser and navigate to your project's url. Your browser will be redirected to the installer's welcome page.</p>

<blockquote>
  <blockquote>
    <h4 id="watch-out">Watch out</h4>
    
    <p>If you are having issues with your application's url resolving and/or being redirected to the installation welcome screen, you most likely have an issue in your "homestead.yaml" or "/etc/hosts". Review the steps listed under within the <a name="environmental-configuration" class="ia"></a><a href="#environmental-configuration">#environmental configuration section</a>.</p>
  </blockquote>
</blockquote>

<p>Complete the form on each step to configure your environment, database, application settings and admin user credentials. Then let Devise take care of the connecting the dots and getting the application up-and-running.</p>

<h2 id="%3Ca-name%3D%22installing-through-command-line%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23installing-through-command-line%29installing-through-the-command-line"><a name="installing-through-command-line" class="ia"></a><a href="#installing-through-command-line">#</a>Installing Through The Command Line</h2>

<p>Installation through the command line is as simple as:</p>

<pre><code class="bash">php artisan devise:install
</code></pre>

<p>Currently, this command simply runs these commands</p>

<pre><code class="bash">php artisan devise:migrate
php artisan devise:assets
php artisan devise:seed
</code></pre>

<h2 id="%3Ca-name%3D%22installing-devise-on-an-existing-project%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23installing-devise-on-an-existing-project%29installing-devise-on-an-existing-project"><a name="installing-devise-on-an-existing-project" class="ia"></a><a href="#installing-devise-on-an-existing-project">#</a>Installing Devise On An Existing Project</h2>

<p>If you are installing Devise "by hand" on an existing Laravel 5 project take the following steps.</p>

<h3 id="1.-add-devise-to-your-composer">1. Add Devise to your composer</h3>

<pre><code class="php">
"require": {
    "laravel/framework": "5.*",
    "devisephp/cms": "*",
    "illuminate/html": "5.*"
}

</code></pre>

<h6 id="%2Fcomposer.json">/composer.json</h6>

<h3 id="2.-add-devise-service-provider-and-facades">2. Add Devise service provider and facades</h3>

<pre><code class="php">
...
'Illuminate\Validation\ValidationServiceProvider',
'Illuminate\View\ViewServiceProvider',

/*
 * Devise Service Provider
 */
'Devise\DeviseServiceProvider',

/*
 * Application Service Providers...
 */
'App\Providers\AppServiceProvider',
...

</code></pre>

<h6 id="%2Fconfig%2Fapp.php">/config/app.php</h6>

<blockquote>
  <blockquote>
    <h4 id="watch-out%21">Watch Out!</h4>
    
    <p>Make sure the deviseServiceProvider appears <strong>above</strong> the Application Service Providers</p>
  </blockquote>
</blockquote>

<pre><code class="php">
/*
 * Devise Facades...
 */
'Sort'            =&gt; 'Devise\Support\Sortable\SortableFacade',
'DeviseUser'      =&gt; 'Devise\Users\DeviseUser',
'RuleManager'     =&gt; 'Devise\Users\Permissions\RuleManagerFacade',
'Form'            =&gt; 'Illuminate\Html\FormFacade',
'HTML'            =&gt; 'Illuminate\Html\HtmlFacade',

</code></pre>

<h6 id="%2Fconfig%2Fapp.php">/config/app.php</h6>

<blockquote>
  <h4 id="quick-tip">Quick Tip</h4>
  
  <p>If you run the installer and opt not to run application migrations be aware that if you run them after the install you will get a "Users table already exists" error. To remedy delete the <code>/database/migrations/2014_10_12_000000_create_users_table.php</code> and the <code>/database/migrations/2014_10_12_100000_create_password_resets_table.php</code> files.</p>
</blockquote>

<h2 id="%3Ca-name%3D%22environmental-configuration%22-class%3D%22ia%22%3E%3C%2Fa%3E%5B%23%5D%28%23environmental-configuration%29environmental-configuration"><a name="environmental-configuration" class="ia"></a><a href="#environmental-configuration">#</a>Environmental Configuration</h2>

<p>Below we will cover setting up Devise, Laravel and Homestead in an OSX environment. For more information on setting up Homestead please refer to the <a href="http://laravel.com/docs/5.0/homestead#installation-and-setup">Laravel documentation</a> or for Windows check out <a href="http://blog.teamtreehouse.com/laravel-homestead-on-windows">this video</a> on Treehouse.</p>

<h3 id="1.-add-entry-to-%2Fetc%2Fhosts-like-a-so%3A">1. Add entry to /etc/hosts like a-so:</h3>

<pre><code class="bash">127.0.0.1 devise-example.com
</code></pre>

<h3 id="2.-add-your-site-to-your-homestead.yaml">2. Add your site to your Homestead.yaml</h3>

<p>In you Homestead.yaml file (the main configuration file for Homestead) add an entry for devise-example.com and map it to the <strong>application's public directory</strong>. It should look similiar to this:</p>

<pre><code>- map: devise-example.com
  to: /home/vagrant/Code/devise-example/public
</code></pre>

<blockquote>
  <blockquote>
    <h4 id="watch-out">Watch out</h4>
    
    <p>Currently, in Homestead if you map the site incorrectly in the <code>to:</code> filepath that URL (devise-example.com) will need to be changed manually in the Nginx config file. Simply, changing it in the homestead config and reprovisioning doesn't seem to work. You can find this file by SSH'ing into your vagrant box and editing the file for your site entry. It is located (in this example) here: <code>/etc/nginx/sites-enabled/devise-example.com</code>. Just edit the <code>root</code> parameter's file path towards the top of the file. It should look something like this to get to it:</p>
  </blockquote>
</blockquote>

<h3 id="2b.-only-do-the-following-if-you-have-the-problem-listed-above-otherwise-move-to-step-3.">2b. Only do the following if you have the problem listed above otherwise move to step 3.</h3>

<p>SSH into your vagrant box</p>

<pre><code class="bash">homestead ssh
</code></pre>

<p>Edit your configuration file (replace devise-example.com with whatever domain you are working on.)</p>

<pre><code class="bash">sudo vi /etc/nginx/sites-available/devise-example.com
</code></pre>

<p>Edit your root path (it should end with public)</p>

<pre><code class="bash">root /vagrant/whatever/whatever/site/public
</code></pre>

<h3 id="3.-provision-the-new-site">3. Provision the new site</h3>

<p><code>cd</code> into your Homestead directory (where homestead.yaml is located) and run "vagrant reload --provision". NOTE: If your vagrant box is not already up-and-running, you might need to run "vagrant up" rather than ".</p>

<p>All of the above steps can be found in more detail on the <a href="http://laravel.com/docs/5.0/homestead">Laravel documetation page on Homestead</a></p>
                    </div>
                </div>

            </section>

        </div>

    <section id="bottom">
        Devise Logo and Devisephp.com<br>
        Copyright &copy; 2015 <a href="http://lbm.co" target="_blank">LBM</a><br><br>

        Devise content management system source code under <a href="http://opensource.org/licenses/MIT" target="_blank">MIT License</a><br>
        <em>"Impediment to action advances action.<br> What stands in the way becomes the way"<em>
        </section>


        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="/js/vendor/jquery-1.11.3.min.js"><\/script>')</script>
        <script src="/js/vendor/retina.min.js"></script>
        <script src="/js/vendor/jquery.magnific-popup.min.js"></script>
        <script src="/js/vendor/highlight.pack.js"></script>
        <script src="/js/main.js"></script>

        <script>
        (function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=
            function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;
        e=o.createElement(i);r=o.getElementsByTagName(i)[0];
        e.src='https://www.google-analytics.com/analytics.js';
        r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));
        ga('create','UA-59653511-1','auto');ga('send','pageview');
        </script>

    </body>
    </html>
